from pyxpm import xpm
from scipy import misc

import os
import array
import numpy as np

def file_to_image( file ):
    file_strim = open( file )
    file_size = os.path.getsize( file )
    file_width = int( file_size ** 0.5 )
    remainder = file_size % file_width
    file_array = array.array( "B" )
    file_array.fromfile( file_strim, ( file_size - remainder ) )
    file_strim.close()

    modified_data = np.reshape( file_array, ( ( len( file_array ) / file_width ), file_width ) )
    modified_data = np.uint8( modified_data )
    #print modified_data
    misc.imsave( file + '.png', modified_data )

file = "//home/jabyte/Desktop/test/65cjJpPCUQiLDRyXfWd4.asm"
#file = "/home/jabyte/Thesis/Training_Set/train/65cjJpPCUQiLDRyXfWd4.asm"
file_to_image( file )
