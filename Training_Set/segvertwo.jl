function get_segments_count( data_file )
    try
        lines = readlines( data_file )
        len = length( lines )
        list = ""
        labels = ""
        last_hit = 0
        prev_index = 1
        next_index = len

        while prev_index < next_index
            prev_str = string( split( lines[prev_index], ":" )[1] )
            next_str = string( split( lines[next_index], ":" )[1] )

            if prev_str == next_str
                if next_index == len
                    labels = ( labels == "" ) ? labels * replace( prev_str, ".", "" ) : labels * "," * replace( prev_str, ".", "" )
                    list = ( list == "" ) ? list * string( len - last_hit ) : list * "," * string( len - last_hit )
                    prev_index = len
                else
                    prev_index = next_index
                    next_index = len
                end

            elseif prev_str != string( split( lines[prev_index + 1], ":" )[1] )
                labels = ( labels == "" ) ? labels * replace( prev_str, ".", "" ) : labels * "," * replace( prev_str, ".", "" )
                list = ( list == "" ) ? list * string( prev_index - last_hit ) : list * "," * string( prev_index - last_hit )
                last_hit = prev_index
                prev_index += 1
                next_index = len

            else
                prev_index += 1
                next_index = prev_index + div( next_index - prev_index, 2 )
            end
        end
        return split( data_file, "/" )[end] * ":" * labels * ":" * list
        #return string( split( data_file, "/" )[end] ) * "\n" * labels * "\n" * list
    catch err
        println( err )
        return ""
    end
end

#print( "Privde the directory of the files: ")
dir = "/home/jabyte/Thesis/Training_Set/train"#readline()
cd( dir )
#print( "What do you want to name the output file: ")
#ofile = "segma.txt"#readline()
#csv_file = open( ofile, "a" )
#result = ""
#files = readdir( dir )
#data_file = "08BX5Slp2I1FraZWbc6j.asm"
data_file = "65cjJpPCUQiLDRyXfWd4.asm"
#for data_file in files
    if contains( string( data_file ), ".asm" )
        #result *= get_segments_count( data_file ) * "\n"
        println( get_segments_count( data_file ) )
    end
#end
#write( csv_file, result )
#close( csv_file )
#println( "Done" )
